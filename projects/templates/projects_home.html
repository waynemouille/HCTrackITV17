{% extends "main.html" %}
{% load static %}


{% block content %}


<div class="container">
    <table id="example" class="table table-striped" style="width:100%">
    <br>
    <br>
        <h2>All Active Projects</h2>
        <br>
        <a href="{% url 'projects_createnew' %}" class="btn btn-outline-primary">Create New Project</a>&nbsp;&nbsp;
        <a href="{% url 'projects_home' %}" class="btn btn btn-secondary">All Projects</a>&nbsp;&nbsp;
        <a href="{% url 'projects_completed' %}" class="btn btn btn-success">Completed</a>&nbsp;&nbsp;
        <br>
        <br>
        <thead>
            <tr>
                <th class="not_mapped_style" style="width: 33%; text-align:left">Project Name</th>
                <th class="not_mapped_style" style="width: 33%; text-align:left">Progress</th>
                <th class="not_mapped_style" style="width: 33%; text-align:left">Assigned To</th>
            </tr>
        </thead>
        <tbody>
            {% for project in projects %}
            <tr>
                <td style="text-align:left"><a href="{% url 'projects_info' project.id %}">{{ project.name }}</a></td>
                <td style="text-align:left">
                    {% if project.progress == "0%" %}
                        <div class="progress" role="progressbar" aria-label="Danger example" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger"  style="width: 0%">0%</div>
                        </div>
                    {% endif %}

                    {% if project.progress == "10%" %}
                        <div class="progress" role="progressbar" aria-label="Danger example" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger"  style="width: 10%">10%</div>
                        </div>
                    {% endif %}

                    {% if project.progress == "20%" %}
                        <div class="progress" role="progressbar" aria-label="Danger example" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger"  style="width: 20%">20%</div>
                        </div>
                    {% endif %}

                    {% if project.progress == "30%" %}
                        <div class="progress" role="progressbar" aria-label="Danger example" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning"  style="width: 30%">30%</div>
                        </div>
                    {% endif %}

                    {% if project.progress == "40%" %}
                        <div class="progress" role="progressbar" aria-label="Danger example" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning"  style="width: 40%">40%</div>
                        </div>
                    {% endif %}

                    {% if project.progress == "50%" %}
                        <div class="progress" role="progressbar" aria-label="Danger example" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning"  style="width: 50%">50%</div>
                        </div>
                    {% endif %}

                    {% if project.progress == "60%" %}
                        <div class="progress" role="progressbar" aria-label="Danger example" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning"  style="width: 60%">60%</div>
                        </div>
                    {% endif %}

                    {% if project.progress == "70%" %}
                        <div class="progress" role="progressbar" aria-label="Danger example" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-info"  style="width: 70%">70%</div>
                        </div>
                    {% endif %}

                    {% if project.progress == "80%" %}
                        <div class="progress" role="progressbar" aria-label="Danger example" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-info"  style="width: 80%">80%</div>
                        </div>
                    {% endif %}

                    {% if project.progress == "90%" %}
                        <div class="progress" role="progressbar" aria-label="Danger example" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-info"  style="width: 90%">90%</div>
                        </div>
                    {% endif %}

                </td>
                <td style="text-align:left">{{ project.assignedto }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <br>
    <br>
</div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/plug-ins/1.10.19/sorting/datetime-moment.js"></script>

<script>
    $(document).ready( function () {

    $.fn.dataTable.moment( 'MMM D, YYYY' );
    $.fn.dataTable.moment( 'D-MMM-YY' );

});
</script>




{% endblock content %}

